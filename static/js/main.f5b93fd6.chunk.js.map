{"version":3,"sources":["components/Modal/modal.module.css","components/ImageGalleryItem/imageItems.module.css","components/Button/button.module.css","components/ImageGallery/imageGallery.module.css","components/Searchbar/searchbar.module.css","components/Modal/Modal.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Button/Button.js","components/services/api.js","App.js","index.js"],"names":["module","exports","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","props","onClose","handleBackdropClick","currentTarget","target","window","addEventListener","this","removeEventListener","largeImageURL","createPortal","className","styles","overlay","onClick","modal","src","alt","Component","Searchbar","onSearch","searchBar","searchForm","onSubmit","preventDefault","elements","searchQuery","value","trim","toLowerCase","toast","info","type","searchForm_button","searchForm_button_label","name","searchForm_input","autoComplete","autoFocus","placeholder","ImageGalleryItem","webformatURL","imageItem","imageGalleryItem_image","ImageGallery","images","imageSelected","imageGallery","map","image","id","override","css","Loader","color","loading","useState","size","Button","button","buttonClick","fetchImagesQuery","page","a","axios","get","then","response","data","hits","App","state","status","handleChange","resetState","setState","toggleModal","incrementPage","handleSelectedImage","imageURL","prevProps","prevState","length","Error","warning","scrollTo","top","documentElement","scrollHeight","behavior","container","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,UAAY,8BAA8B,uBAAyB,6C,mBCArFD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,YAAc,8B,mBCAhED,EAAOC,QAAU,CAAC,aAAe,qC,uCCAjCD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,kBAAoB,qCAAqC,wBAA0B,2CAA2C,iBAAmB,sC,wMCGjPC,EAAYC,SAASC,cAAc,eAE5BC,EAAb,4MAOEC,cAAgB,SAACC,GACA,WAAXA,EAAEC,MACJ,EAAKC,MAAMC,WATjB,EAYEC,oBAAsB,SAACJ,GACjBA,EAAEK,gBAAkBL,EAAEM,QACxB,EAAKJ,MAAMC,WAdjB,uDACE,WACEI,OAAOC,iBAAiB,UAAWC,KAAKV,iBAF5C,kCAIE,WACEQ,OAAOG,oBAAoB,UAAWD,KAAKV,iBAL/C,oBAiBE,WACE,IAAQY,EAAkBF,KAAKP,MAAvBS,cACR,OAAOC,uBACL,qBAAKC,UAAWC,IAAOC,QAASC,QAASP,KAAKL,oBAA9C,SACE,qBAAKS,UAAWC,IAAOG,MAAvB,SACE,qBAAKC,IAAKP,EAAeQ,IAAI,SAGjCxB,OAzBN,GAA2ByB,a,gBCDpB,SAASC,EAAT,GAAkC,IAAbC,EAAY,EAAZA,SAW1B,OACE,wBAAQT,UAAWC,IAAOS,UAA1B,SACE,uBAAMV,UAAWC,IAAOU,WAAYC,SAZnB,SAACzB,GACpBA,EAAE0B,iBACiD,KAA/C1B,EAAEM,OAAOqB,SAASC,YAAYC,MAAMC,QAIxCR,EAAStB,EAAEM,OAAOqB,SAASC,YAAYC,MAAME,cAAcD,QAC3D9B,EAAEM,OAAOqB,SAASC,YAAYC,MAAQ,IAJpCG,IAAMC,KAAK,yBASX,UACE,wBAAQC,KAAK,SAASrB,UAAWC,IAAOqB,kBAAxC,SACE,sBAAMtB,UAAWC,IAAOsB,wBAAxB,sBAGF,uBACEC,KAAK,cACLxB,UAAWC,IAAOwB,iBAClBJ,KAAK,OACLK,aAAa,MACbC,WAAS,EACTC,YAAY,kC,sCC1Bf,SAASC,EAAT,GAAqE,IAAzCC,EAAwC,EAAxCA,aAAchC,EAA0B,EAA1BA,cAAeK,EAAW,EAAXA,QAC9D,OACE,oBAAIH,UAAWC,IAAO8B,UAAW5B,QAAS,kBAAMA,EAAQL,IAAxD,SACE,qBACEO,IAAKyB,EACLxB,IAAI,GACJN,UAAWC,IAAO+B,2BCLnB,SAASC,EAAT,GAAkD,IAA1BC,EAAyB,EAAzBA,OAAQC,EAAiB,EAAjBA,cACrC,OACE,mCACE,oBAAInC,UAAWC,IAAOmC,aAAtB,SACGF,EAAOG,KAAI,SAACC,GAAD,OACV,cAACT,EAAD,CAEEC,aAAcQ,EAAMR,aACpBhC,cAAewC,EAAMxC,cACrBK,QAASgC,GAHJG,EAAMC,W,uCCNjBC,EAAWC,cAAH,uFAeCC,MAVf,WACE,OACE,cAAC,IAAD,CACEC,MAAM,UACNC,QAASC,oBAAS,GAClBJ,IAAKD,EACLM,KAAM,O,iBCZG,SAASC,EAAT,GAA8B,IAAZ5C,EAAW,EAAXA,QAC/B,OACE,qBAAKH,UAAWC,IAAO+C,OAAvB,SACE,wBAAQhD,UAAWC,IAAOgD,YAAa5B,KAAK,SAASlB,QAASA,EAA9D,yB,qBCJA+C,EAAgB,uCAAG,WAAOnC,EAAaoC,GAApB,SAAAC,EAAA,4DACP,qCADO,kBAEhBC,IACJC,IADI,qCAE2BvC,EAF3B,iBAE+CoC,EAF/C,gBADS,qCACT,yDAIJI,MAAK,SAACC,GAAD,OAAcA,EAASC,KAAKC,SANb,2CAAH,wDCUDC,E,4MACnBC,MAAQ,CACN7C,YAAa,GACbmB,OAAQ,GACRiB,KAAM,EACNhB,cAAe,GACf0B,OAAQ,Q,EA4BVC,aAAe,SAAC/C,GACV,EAAK6C,MAAM7C,cAAgBA,GAI/B,EAAKgD,aACL,EAAKC,SAAS,CAAEjD,iBAJdI,IAAMC,KAAK,6B,EAOf2C,WAAa,WACX,EAAKC,SAAS,CACZjD,YAAa,GACboC,KAAM,EACNhB,cAAe,KACfD,OAAQ,GACR2B,OAAQ,U,EAGZI,YAAc,WACZ,EAAKD,UAAS,kBAAwB,CAAE7B,eAA1B,EAAGA,mB,EAEnB+B,cAAgB,WACd,EAAKF,SAAS,CAAEb,KAAM,EAAKS,MAAMT,KAAO,K,EAE1CgB,oBAAsB,SAACC,GACrB,EAAKJ,SAAS,CAAE7B,cAAeiC,K,+FAnDjC,WAAyBC,EAAWC,GAApC,qBAAAlB,EAAA,2DACgCxD,KAAKgE,MAA3B7C,EADV,EACUA,YAAaoC,EADvB,EACuBA,KACjBmB,EAAUvD,cAAgBA,GAAeuD,EAAUnB,OAASA,EAFlE,wBAGIvD,KAAKoE,SAAS,CAAEH,OAAQ,YAH5B,kBAK2BX,EAAiBnC,EAAaoC,GALzD,WAKYjB,EALZ,QAMkBqC,OANlB,sBAOc,IAAIC,MAPlB,OASM5E,KAAKoE,UAAS,SAACM,GAAD,MAAgB,CAC5BpC,OAAO,GAAD,mBAAMoC,EAAUpC,QAAhB,YAA2BA,IACjC2B,OAAQ,eAXhB,kDAcMjE,KAAKoE,SAAS,CACZH,OAAQ,aAEV1C,IAAMsD,QAAN,yCAAgD1D,IAjBtD,QAmBIoC,EAAO,GACLzD,OAAOgF,SAAS,CACdC,IAAK5F,SAAS6F,gBAAgBC,aAC9BC,SAAU,WAtBlB,0D,6EAqDA,WACE,MAA0ClF,KAAKgE,MAAvC1B,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,cAAe0B,EAA/B,EAA+BA,OAC/B,MAAe,SAAXA,EAEA,qBAAK7D,UAAWC,IAAO8E,UAAvB,SACE,cAACvE,EAAD,CAAWC,SAAUb,KAAKkE,iBAIjB,YAAXD,EAEA,sBAAK7D,UAAWC,IAAO8E,UAAvB,UACE,cAACvE,EAAD,CAAWC,SAAUb,KAAKkE,eAC1B,cAAC,EAAD,OAIS,aAAXD,EAEA,sBAAK7D,UAAWC,IAAO8E,UAAvB,UACE,cAACvE,EAAD,CAAWC,SAAUb,KAAKkE,eAC1B,cAAC7B,EAAD,CACEC,OAAQA,EACRC,cAAevC,KAAKuE,sBAErBjC,EAAOqC,OAAS,GAAK,cAACxB,EAAD,CAAQ5C,QAASP,KAAKsE,gBAC3C/B,GACC,cAAC,EAAD,CAAOrC,cAAeqC,EAAe7C,QAASM,KAAKqE,cAErD,cAAC,IAAD,CAAgBe,UAAW,SAIlB,aAAXnB,EAEA,sBAAK7D,UAAWC,IAAO8E,UAAvB,UACE,cAACvE,EAAD,CAAWC,SAAUb,KAAKkE,eAC1B,cAAC,IAAD,CAAgBkB,UAAW,cAJjC,M,GA9F6BzE,aCPjC0E,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFpG,SAASqG,eAAe,U","file":"static/js/main.f5b93fd6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal_overlay__1wE_G\",\"modal\":\"modal_modal__32dlb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageItem\":\"imageItems_imageItem__Y8QIP\",\"imageGalleryItem_image\":\"imageItems_imageGalleryItem_image__1eovL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"button_button__16TUy\",\"buttonClick\":\"button_buttonClick__gSVOe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"imageGallery_imageGallery__2gK2m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"searchbar_searchBar__1eu0W\",\"searchForm\":\"searchbar_searchForm__1A668\",\"searchForm_button\":\"searchbar_searchForm_button__2sI_G\",\"searchForm_button_label\":\"searchbar_searchForm_button_label__3MDvh\",\"searchForm_input\":\"searchbar_searchForm_input__fUKIb\"};","import styles from \"../Modal/modal.module.css\";\nimport { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n  handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n  render() {\n    const { largeImageURL } = this.props;\n    return createPortal(\n      <div className={styles.overlay} onClick={this.handleBackdropClick}>\n        <div className={styles.modal}>\n          <img src={largeImageURL} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n","import styles from \"../Searchbar/searchbar.module.css\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport PropTypes from \"prop-types\";\n\nexport function Searchbar({ onSearch }) {\n  const handleSearch = (e) => {\n    e.preventDefault();\n    if (e.target.elements.searchQuery.value.trim() === \"\") {\n      toast.info(\"Please, enter query!\");\n      return;\n    }\n    onSearch(e.target.elements.searchQuery.value.toLowerCase().trim());\n    e.target.elements.searchQuery.value = \"\";\n  };\n\n  return (\n    <header className={styles.searchBar}>\n      <form className={styles.searchForm} onSubmit={handleSearch}>\n        <button type=\"submit\" className={styles.searchForm_button}>\n          <span className={styles.searchForm_button_label}>Search</span>\n        </button>\n\n        <input\n          name=\"searchQuery\"\n          className={styles.searchForm_input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\nSearchbar.propTypes = {\n  onSearch: PropTypes.func.isRequired,\n};\n","import styles from \"../ImageGalleryItem/imageItems.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport function ImageGalleryItem({ webformatURL, largeImageURL, onClick }) {\n  return (\n    <li className={styles.imageItem} onClick={() => onClick(largeImageURL)}>\n      <img\n        src={webformatURL}\n        alt=\"\"\n        className={styles.imageGalleryItem_image}\n      />\n    </li>\n  );\n}\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n","import styles from \"../ImageGallery/imageGallery.module.css\";\nimport { ImageGalleryItem } from \"../ImageGalleryItem/ImageGalleryItem.js\";\nimport PropTypes from \"prop-types\";\n\nexport function ImageGallery({ images, imageSelected }) {\n  return (\n    <>\n      <ul className={styles.imageGallery}>\n        {images.map((image) => (\n          <ImageGalleryItem\n            key={image.id}\n            webformatURL={image.webformatURL}\n            largeImageURL={image.largeImageURL}\n            onClick={imageSelected}\n          />\n        ))}\n      </ul>\n    </>\n  );\n}\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  imageSelected: PropTypes.func.isRequired,\n};\n","import { useState } from \"react\";\nimport { css } from \"@emotion/react\";\nimport RingLoader from \"react-spinners/RingLoader\";\n\nconst override = css`\n  display: flex;\n  margin: 0 auto;\n  border-color: red;\n`;\nfunction Loader() {\n  return (\n    <RingLoader\n      color=\"#3f51b5\"\n      loading={useState(true)}\n      css={override}\n      size={220}\n    />\n  );\n}\nexport default Loader;\n","import styles from \"../Button/button.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport default function Button({ onClick }) {\n  return (\n    <div className={styles.button}>\n      <button className={styles.buttonClick} type=\"button\" onClick={onClick}>\n        Load more\n      </button>\n    </div>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import axios from \"axios\";\n\nconst fetchImagesQuery = async (searchQuery, page) => {\n  const API_KEY = \"22317274-5f5939ff79d612c3aacb02224\";\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n    )\n    .then((response) => response.data.hits);\n};\nexport { fetchImagesQuery };\n","import styles from \"./App.css\";\nimport { Component } from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport { Modal } from \"./components/Modal/Modal.js\";\nimport { Searchbar } from \"./components/Searchbar/Searchbar.js\";\nimport { ImageGallery } from \"./components/ImageGallery/ImageGallery.js\";\nimport Loader from \"./components/Loader/Loader.js\";\nimport Button from \"./components/Button/Button.js\";\nimport { fetchImagesQuery } from \"./components/services/api.js\";\n\nexport default class App extends Component {\n  state = {\n    searchQuery: \"\",\n    images: [],\n    page: 1,\n    imageSelected: \"\",\n    status: \"idle\",\n  };\n  async componentDidUpdate(prevProps, prevState) {\n    const { searchQuery, page } = this.state;\n    if (prevState.searchQuery !== searchQuery || prevState.page !== page) {\n      this.setState({ status: \"pending\" });\n      try {\n        const images = await fetchImagesQuery(searchQuery, page);\n        if (!images.length) {\n          throw new Error();\n        }\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n          status: \"resolved\",\n        }));\n      } catch (error) {\n        this.setState({\n          status: \"rejected\",\n        });\n        toast.warning(`Not found any images by query: ${searchQuery}`);\n      }\n      page > 1 &&\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n    }\n  }\n  handleChange = (searchQuery) => {\n    if (this.state.searchQuery === searchQuery) {\n      toast.info(\"Please, enter new query!\");\n      return;\n    }\n    this.resetState();\n    this.setState({ searchQuery });\n  };\n\n  resetState = () => {\n    this.setState({\n      searchQuery: \"\",\n      page: 1,\n      imageSelected: null,\n      images: [],\n      status: \"idle\",\n    });\n  };\n  toggleModal = () => {\n    this.setState(({ imageSelected }) => ({ imageSelected: !imageSelected }));\n  };\n  incrementPage = () => {\n    this.setState({ page: this.state.page + 1 });\n  };\n  handleSelectedImage = (imageURL) => {\n    this.setState({ imageSelected: imageURL });\n  };\n  render() {\n    const { images, imageSelected, status } = this.state;\n    if (status === \"idle\") {\n      return (\n        <div className={styles.container}>\n          <Searchbar onSearch={this.handleChange} />\n        </div>\n      );\n    }\n    if (status === \"pending\") {\n      return (\n        <div className={styles.container}>\n          <Searchbar onSearch={this.handleChange} />\n          <Loader />\n        </div>\n      );\n    }\n    if (status === \"resolved\") {\n      return (\n        <div className={styles.container}>\n          <Searchbar onSearch={this.handleChange} />\n          <ImageGallery\n            images={images}\n            imageSelected={this.handleSelectedImage}\n          />\n          {images.length > 0 && <Button onClick={this.incrementPage} />}\n          {imageSelected && (\n            <Modal largeImageURL={imageSelected} onClose={this.toggleModal} />\n          )}\n          <ToastContainer autoClose={3000} />\n        </div>\n      );\n    }\n    if (status === \"rejected\") {\n      return (\n        <div className={styles.container}>\n          <Searchbar onSearch={this.handleChange} />\n          <ToastContainer autoClose={3000} />\n        </div>\n      );\n    }\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}